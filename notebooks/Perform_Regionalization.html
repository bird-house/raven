
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Calling HMETS on the Raven server &#8212; Raven 0.7.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Calibrating the HMETS hydrological model using OSTRICH on the Raven server" href="running_OSTRICH_hmets.html" />
    <link rel="prev" title="Analyzing time series" href="Time series analysis.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 5ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Calling-HMETS-on-the-Raven-server">
<h1>Calling HMETS on the Raven server<a class="headerlink" href="#Calling-HMETS-on-the-Raven-server" title="Permalink to this headline">¶</a></h1>
<p>Here we use birdy’s WPS client to launch the HMETS hydrological model on the server and analyze the output.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">birdy</span> <span class="k">import</span> <span class="n">WPSClient</span>

<span class="kn">from</span> <span class="nn">example_data</span> <span class="k">import</span> <span class="n">TESTDATA</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="k">import</span> <span class="n">urlretrieve</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:9099/wps&quot;</span>
<span class="n">wps</span> <span class="o">=</span> <span class="n">WPSClient</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="n">progress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Get the documentation for the method&#39;s usage:</span>
<span class="n">help</span><span class="p">(</span><span class="n">wps</span><span class="o">.</span><span class="n">regionalisation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Help on method regionalisation in module birdy.client.base:

regionalisation(ts, properties, latitude, longitude, model_name=None, elevation=None, start_date=datetime.datetime(1, 1, 1, 0, 0), end_date=datetime.datetime(1, 1, 1, 0, 0), name=&#39;watershed&#39;, ndonors=5, min_nse=0.6, method=&#39;SP_IDW&#39;, area=None) method of birdy.client.base.WPSClient instance
    Compute the hydrograph for an ungauged catchment using a regionalization method.

    Parameters
    ----------
    ts : ComplexData:mimetype:`application/x-netcdf`, :mimetype:`text/plain`, :mimetype:`application/x-zipped-shp`
        Files (text or netCDF) storingdaily liquid precipitation (pr), solid precipitation (prsn), minimum temperature (tasmin), maximum temperature (tasmax), potential evapotranspiration (evspsbl) and observed streamflow (qobs [m3/s]).
    start_date : //www.w3.org/TR/xmlschema-2/#dateTime
        Start date of the simulation (AAAA-MM-DD). Defaults to the start of the forcing file.
    end_date : //www.w3.org/TR/xmlschema-2/#dateTime
        End date of the simulation (AAAA-MM-DD). Defaults to the end of the forcing file.
    latitude : //www.w3.org/TR/xmlschema-2/#float
        Watershed&#39;s centroid latitude
    longitude : //www.w3.org/TR/xmlschema-2/#float
        Watershed&#39;s centroid longitude
    name : //www.w3.org/TR/xmlschema-2/#string
        The name of the watershed the model is run for.
    model_name : {&#39;HMETS&#39;, &#39;GR4JCN&#39;, &#39;MOHYSE&#39;}//www.w3.org/TR/xmlschema-2/#string
        Hydrological model identifier: {HMETS, GR4JCN, MOHYSE}
    ndonors : //www.w3.org/TR/xmlschema-2/#integer
        Number of close or similar catchments to use to generate the representative hydrograph at the ungauged site.
    min_nse : //www.w3.org/TR/xmlschema-2/#float
        Minimum calibration NSE value required to be considered in the regionalization.
    method : {&#39;MLR&#39;, &#39;SP&#39;, &#39;PS&#39;, &#39;SP_IDW&#39;, &#39;PS_IDW&#39;, &#39;SP_IDW_RA&#39;, &#39;PS_IDW_RA&#39;}//www.w3.org/TR/xmlschema-2/#string
        Regionalisation method to use, one of MLR, SP, PS, SP_IDW,
        PS_IDW, SP_IDW_RA, PS_IDW_RA.

        The available regionalization methods are:

            Multiple linear regression (MLR)
                Ungauged catchment parameters are estimated individually by a linear regression
                against catchment properties.

            Spatial proximity (SP)
                The ungauged hydrograph is an average of the `n` closest catchments&#39; hydrographs.

            Physical similarity (PS)
                The ungauged hydrograph is an average of the `n` most similar catchments&#39; hydrographs.

            Spatial proximity with inverse distance weighting (SP_IDW)
                The ungauged hydrograph is an average of the `n` closest catchments&#39; hydrographs, but
                the average is weighted using inverse distance weighting

            Physical similarity with inverse distance weighting (PS_IDW)
                The ungauged hydrograph is an average of the `n` most similar catchments&#39; hydrographs, but
                the average is weighted using inverse distance weighting

            Spatial proximity with IDW and regression-based augmentation (SP_IDW_RA)
                The ungauged hydrograph is an average of the `n` closest catchments&#39; hydrographs, but
                the average is weighted using inverse distance weighting. Furthermore, the method uses the CANOPEX/USGS
                dataset to estimate model parameters using Multiple Linear Regression. Parameters whose regression r-squared
                is higher than 0.5 are replaced by the MLR-estimated value.

            Physical Similarity with IDW and regression-based augmentation (PS_IDW_RA)
                The ungauged hydrograph is an average of the `n` most similar catchments&#39; hydrographs, but
                the average is weighted using inverse distance weighting. Furthermore, the method uses the CANOPEX/USGS
                dataset to estimate model parameters using Multiple Linear Regression. Parameters whose regression r-squared
                is higher than 0.5 are replaced by the MLR-estimated value.
    properties : ComplexData:mimetype:`application/json`
        json string storing dictionary of properties. The available properties are: area (km2), longitude (dec.degrees), latitude (dec. degrees), gravelius, perimeter (m), elevation (m), slope(%), aspect, forest (%), grass (%), wetland (%), water (%), urban (%), shrubs (%), crops (%) and snowIce (%).
    area : //www.w3.org/TR/xmlschema-2/#float
        Watershed area (km2)
    elevation : //www.w3.org/TR/xmlschema-2/#float
        Watershed&#39;s mean elevation (m)

    Returns
    -------
    hydrograph : ComplexData:mimetype:`application/x-netcdf`, :mimetype:`application/zip`
        A netCDF file containing the outflow hydrographs (in m3/s) for all subbasins specified as `gauged` in the .rvh file. It reports period-ending time-averaged flows for the preceding time step, as is consistent with most measured stream gauge data (again, the initial flow conditions at the start of the first time step are included). If observed hydrographs are specified, they will be output adjacent to the corresponding modelled  hydrograph.
    ensemble : ComplexData:mimetype:`application/x-netcdf`
        A netCDF file containing the outflow hydrographs (in m3/s) for the basin on which the regionalization method has been applied. The number of outflow hydrographs is equal to the number of donors (ndonors) passed to the method. The average of these hydrographs (either using equal or Inverse-Distance Weights) is the hydrograph generated in &#34;hydrograph&#34;.

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Forcing files. This file should only contain weather data (tmin, tmax, rain, snow, pet (if desired), etc.</span>
<span class="c1"># No streamflow is required. This is a link to a string, but you can submit a string to your netcdf file directly.</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">TESTDATA</span><span class="p">[</span><span class="s1">&#39;raven-hmets-nc-ts&#39;</span><span class="p">])</span>

<span class="c1"># Model configuration parameters</span>
<span class="n">config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">end_date</span><span class="o">=</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2002</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">area</span><span class="o">=</span><span class="mf">4250.6</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Saumon&#39;</span><span class="p">,</span>
    <span class="n">elevation</span><span class="o">=</span><span class="mf">843.0</span><span class="p">,</span>
    <span class="n">latitude</span><span class="o">=</span><span class="mf">54.4848</span><span class="p">,</span>
    <span class="n">longitude</span><span class="o">=-</span><span class="mf">123.3659</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s1">&#39;PS&#39;</span><span class="p">,</span> <span class="c1"># One of the methods described above</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;HMETS&#39;</span><span class="p">,</span> <span class="c1"># One of the two models are allowed: HMETS and GR4JCN</span>
    <span class="n">min_nse</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="c1"># Minimumcalibration NSE required to be considered a donor (for selecting good donor catchments)</span>
    <span class="n">ndonors</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="c1"># Number of donors we want to use. Usually between 4 and 8 is a robust number.</span>
    <span class="n">properties</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s1">&#39;latitude&#39;</span><span class="p">:</span><span class="mf">54.4848</span><span class="p">,</span> <span class="s1">&#39;longitude&#39;</span><span class="p">:</span><span class="o">-</span><span class="mf">123.3659</span><span class="p">,</span> <span class="s1">&#39;forest&#39;</span><span class="p">:</span><span class="mf">0.4</span><span class="p">}),</span>
    <span class="p">)</span>

<span class="c1"># Let&#39;s call the model with the timeseries, model parameters and other configuration parameters</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">wps</span><span class="o">.</span><span class="n">regionalisation</span><span class="p">(</span><span class="n">ts</span><span class="o">=</span><span class="n">ts</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "a0aceec799d1457c8e323295c117c2de", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>

<span></span><span class="c1"># And get the response</span>
<span class="c1"># With `asobj` set to False, only the reference to the output is returned in the response.</span>
<span class="c1"># Setting `asobj` to True will retrieve the actual files and copy the locally.</span>
<span class="p">[</span><span class="n">hydrograph</span><span class="p">,</span> <span class="n">ensemble</span><span class="p">]</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">asobj</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">hydrograph</span></code> and <code class="docutils literal notranslate"><span class="pre">ensemble</span></code> outputs are netCDF files storing the time series. These files are opened by default using <code class="docutils literal notranslate"><span class="pre">xarray</span></code>, which provides convenient and powerful time series analysis and plotting tools.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hydrograph</span><span class="o">.</span><span class="n">q_sim</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&lt;xarray.DataArray &#39;q_sim&#39; (time: 732, nbasins: 1)&gt;
array([[  0.      ],
       [214.946219],
       [421.947247],
       ...,
       [ 32.548253],
       [ 31.946426],
       [ 31.368655]])
Coordinates:
  * time        (time) datetime64[ns] 2000-01-01 2000-01-02 ... 2002-01-01
    basin_name  (nbasins) object ...
Dimensions without coordinates: nbasins
Attributes:
    units:      m**3 s**-1
    long_name:  Simulated outflows
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hydrograph</span><span class="o">.</span><span class="n">q_sim</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/ets/miniconda3/lib/python3.7/site-packages/pandas/plotting/_converter.py:129: FutureWarning: Using an implicitly registered datetime converter for a matplotlib plotting method. The converter was registered by pandas on import. Future versions of pandas will require you to explicitly register matplotlib converters.

To register the converters:
        &gt;&gt;&gt; from pandas.plotting import register_matplotlib_converters
        &gt;&gt;&gt; register_matplotlib_converters()
  warnings.warn(msg, FutureWarning)
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[&lt;matplotlib.lines.Line2D at 0x7f8bbdeffb38&gt;]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Perform_Regionalization_7_2.png" src="../_images/notebooks_Perform_Regionalization_7_2.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Max: &quot;</span><span class="p">,</span> <span class="n">hydrograph</span><span class="o">.</span><span class="n">q_sim</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean: &quot;</span><span class="p">,</span> <span class="n">hydrograph</span><span class="o">.</span><span class="n">q_sim</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Monthly means: &quot;</span><span class="p">,</span> <span class="n">hydrograph</span><span class="o">.</span><span class="n">q_sim</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;time.month&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Max:  &lt;xarray.DataArray &#39;q_sim&#39; ()&gt;
array(421.947247)
Mean:  &lt;xarray.DataArray &#39;q_sim&#39; ()&gt;
array(117.683712)
Monthly means:  &lt;xarray.DataArray &#39;q_sim&#39; (month: 12)&gt;
array([159.124617,  92.227572, 116.875393, 131.507106, 105.840308, 119.197397,
       139.983849, 134.138526, 128.881682, 109.17058 , 114.484513,  58.80445 ])
Coordinates:
  * month    (month) int64 1 2 3 4 5 6 7 8 9 10 11 12
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/ets/miniconda3/lib/python3.7/site-packages/xarray/core/groupby.py:639: FutureWarning: Default reduction dimension will be changed to the grouped dimension in a future version of xarray. To silence this warning, pass dim=xarray.ALL_DIMS explicitly.
  skipna=skipna, allow_lazy=True, **kwargs)
</pre></div></div>
</div>
<div class="section" id="Now-we-can-also-see-the-results-coming-from-the-5-donors-using-the-'ensemble'-variable">
<h2>Now we can also see the results coming from the 5 donors using the ‘ensemble’ variable<a class="headerlink" href="#Now-we-can-also-see-the-results-coming-from-the-5-donors-using-the-'ensemble'-variable" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Plot the simulations from the 5 donor parameter sets</span>
<span class="n">ensemble</span><span class="o">.</span><span class="n">q_sim</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">nbasins</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;realization&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[&lt;matplotlib.lines.Line2D at 0x7f8bbc4e4e10&gt;,
 &lt;matplotlib.lines.Line2D at 0x7f8bbc4af7f0&gt;,
 &lt;matplotlib.lines.Line2D at 0x7f8bbc4af978&gt;,
 &lt;matplotlib.lines.Line2D at 0x7f8bbc4afac8&gt;,
 &lt;matplotlib.lines.Line2D at 0x7f8bbc4afc18&gt;]
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Perform_Regionalization_10_1.png" src="../_images/notebooks_Perform_Regionalization_10_1.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/birdhouse_logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">Raven</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processes.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer.html">Developer Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Notebooks</a><ul>
      <li>Previous: <a href="Time series analysis.html" title="previous chapter">Analyzing time series</a></li>
      <li>Next: <a href="running_OSTRICH_hmets.html" title="next chapter">Calibrating the HMETS hydrological model using OSTRICH on the Raven server</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, David Huard.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/notebooks/Perform_Regionalization.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>